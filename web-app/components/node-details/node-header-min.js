(function(){Alfresco.component.NodeHeader=function a(d){Alfresco.component.NodeHeader.superclass.constructor.call(this,"Alfresco.component.NodeHeader",d);YAHOO.Bubbling.on("metadataRefresh",this.doRefresh,this);this.nodeType=null;return this};YAHOO.extend(Alfresco.component.NodeHeader,Alfresco.component.Base,{options:{nodeRef:null,siteId:"",rootPage:"documentlibrary",rootLabelId:"path.documents",showFavourite:true,showLikes:true,showComments:true,showDownload:true,showPath:true,likes:{},isContainer:false},onReady:function b(){this.nodeType=this.options.isContainer?"folder":"document";if(this.options.showLikes){new Alfresco.Like(this.id+"-like").setOptions({nodeRef:this.options.nodeRef,siteId:this.options.siteId,type:this.nodeType,displayName:this.options.displayName}).display(this.options.likes.isLiked,this.options.likes.totalLikes)}if(this.options.showFavourite){new Alfresco.Favourite(this.id+"-favourite").setOptions({nodeRef:this.options.nodeRef,type:this.nodeType}).display(this.options.isFavourite)}},doRefresh:function c(){YAHOO.Bubbling.unsubscribe("metadataRefresh",this.doRefresh,this);var d="components/node-details/node-header?nodeRef={nodeRef}&rootPage={rootPage}&rootLabelId={rootLabelId}&showFavourite={showFavourite}&showLikes={showLikes}&showComments={showComments}&showDownload={showDownload}&showPath={showPath}"+(this.options.siteId?"&site={siteId}":"");this.refresh(d)}})})();